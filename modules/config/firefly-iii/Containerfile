ARG  VERSION
FROM docker.io/fireflyiii/core:${VERSION}

# Switch to root user to install packages
USER root

# Install locales package and generate Thai locale
RUN apt-get update && apt-get install -y \
    locales \
    && echo "th_TH.UTF-8 UTF-8" >> /etc/locale.gen \
    && locale-gen \
    && apt-get clean \
    && rm -rf /var/lib/apt/lists/*

# Switch back to www-data user
USER www-data
